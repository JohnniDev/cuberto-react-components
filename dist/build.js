!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames"),require("react-dom")):"function"==typeof define&&define.amd?define([,,],t):"object"==typeof exports?exports.CubertoReactComponents=t(require("react"),require("classnames"),require("react-dom")):e.CubertoReactComponents=t(e.React,e.classnames,e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var u=Object.keys(e),i=Object.keys(t);if(u.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<u.length;c++){var s=u[c];if(!a(s))return!1;var l=e[s],f=t[s];if(!1===(r=n?n.call(o,l,f,s):void 0)||void 0===r&&l!==f)return!1}return!0}},function(e,t){},function(e,t){e.exports=n},function(e,t,n){var o=n(6);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(8)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,".cub-dropdown {\n    position: relative;\n}\n\n.cub-dropdown-control-wrapper {\n    display: flex;\n    align-items: center;\n}\n\n.cub-dropdown:not(.-opened) .cub-dropdown-control:not(:disabled):not(:focus) {\n    cursor: pointer;\n}\n\ninput.cub-dropdown-control:focus {\n    outline: none;\n}\n\n.cub-dropdown-menu {\n    display: none;\n    position: absolute;\n    top: 100%;\n    min-width: 100%;\n    background-color: #fff;\n}\n\n.cub-dropdown-menu.-empty {\n    white-space: nowrap;\n}\n\n.cub-dropdown-menu.-open {\n    display: block;\n}\n\n.cub-dropdown-items {\n    max-height: 300px;\n    overflow: auto;\n}\n\n.cub-dropdown-item {\n    display: block;\n    width: 100%;\n    text-align: left;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    user-select: none;\n}",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(i=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),u=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(u).concat([r]).join("\n")}var i,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var u=this[r][0];null!=u&&(o[u]=!0)}for(var i=0;i<e.length;i++){var a=e[i];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),t.push(a))}},t}},function(e,t,n){"use strict";var o,r={},u=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],o={},r=0;r<e.length;r++){var u=e[r],i=t.base?u[0]+t.base:u[0],a={css:u[1],media:u[2],sourceMap:u[3]};o[i]?o[i].parts.push(a):n.push(o[i]={id:i,parts:[a]})}return n}function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],u=r[o.id],i=0;if(u){for(u.refs++;i<u.parts.length;i++)u.parts[i](o.parts[i]);for(;i<o.parts.length;i++)u.parts.push(y(o.parts[i],t))}else{for(var a=[];i<o.parts.length;i++)a.push(y(o.parts[i],t));r[o.id]={id:o.id,refs:1,parts:a}}}}function s(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var o=n.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=f(t,r);else{var u=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(u,i[t]):e.appendChild(u)}}function d(e,t,n){var o=n.css,r=n.media,u=n.sourceMap;if(r&&e.setAttribute("media",r),u&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,h=0;function y(e,t){var n,o,r;if(t.singleton){var u=h++;n=m||(m=s(t)),o=p.bind(null,n,u,!1),r=p.bind(null,n,u,!0)}else n=s(t),o=d.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=u());var n=a(e,t);return c(n,t),function(e){for(var o=[],u=0;u<n.length;u++){var i=n[u],s=r[i.id];s&&(s.refs--,o.push(s))}e&&c(a(e,t),t);for(var l=0;l<o.length;l++){var f=o[l];if(0===f.refs){for(var p=0;p<f.parts.length;p++)f.parts[p]();delete r[f.id]}}}}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),u=(n(4),n(2)),i=n.n(u),a=n(1),c=n.n(a);n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}var n,u,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(u=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,u=f(e,["children","className"]),i=c()(n,"cub-dropdown-item");return r.a.createElement("button",l({type:"button",className:i},u),o.Children.toArray(t))}}])&&p(n.prototype,u),i&&p(n,i),t}(o.Component);n(5);function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={top:"100%",bottom:"auto",visibility:"hidden"},x=function(e){function t(e){var n,r,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(u=j(t).call(this,e))||"object"!==g(u)&&"function"!=typeof u?k(r):u,E(k(n),"dropdownRef",Object(o.createRef)()),E(k(n),"menuRef",Object(o.createRef)()),E(k(n),"handleOutsideClick",n.outsideClick.bind(k(n))),n.state={open:e.defaultOpen,menuStyles:P},n}var n,u,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(u=[{key:"componentWillUnmount",value:function(){this.toggleMenu(!1)}},{key:"shouldComponentUpdate",value:function(e,t){return!i()(e,this.props)||!i()(t,this.state)}},{key:"getSelectedValue",value:function(){var e=this.props,t=e.value,n=e.options,o=e.getValue;return t&&n.find((function(e){return o(e)===t}))||null}},{key:"getItemsElements",value:function(){return this.menuRef.current&&this.menuRef.current.querySelectorAll(".cub-dropdown-item")||[]}},{key:"getControlElement",value:function(){return this.dropdownRef.current&&this.dropdownRef.current.querySelector(".cub-dropdown-control")}},{key:"makeFocusOnControl",value:function(){var e=this.getControlElement();e&&e.focus()}},{key:"setMenuPositions",value:function(){var e=this.getControlElement(),t=this.menuRef.current;if(e&&t){var n=t.getBoundingClientRect(),o=n.top,r=n.height,u=window.innerHeight,i={top:o+r>u?"auto":"100%",bottom:o+r>u?"100%":"auto",visibility:"visible"};this.setState({menuStyles:i})}}},{key:"handleControlClick",value:function(e){var t=this.state.open,n=this.props,o=n.closeOnControlClick,r=n.customControlProps,u=n.openOnFocus;t||this.toggleMenu(!0),t&&o&&!u&&this.toggleMenu(!1),r.onClick&&r.onClick(e)}},{key:"handleControlFocus",value:function(e){var t=this.props,n=t.openOnFocus,o=t.customControlProps;n&&this.toggleMenu(!0),o.onFocus&&o.onFocus(e)}},{key:"handleControlBlur",value:function(e){var t=this.props.customControlProps;t.onBlur&&t.onBlur(e)}},{key:"handleControlKeyDown",value:function(e){var t=this.state.open,n=this.props.customControlProps,o=e.key,r=this.getItemsElements(),u=r[0];if("Tab"===o&&this.toggleMenu(!1),"Escape"===o?(this.toggleMenu(!1),t&&this.makeFocusOnControl()):t||"Tab"===o||this.toggleMenu(!0),"Enter"===o&&t&&u){e.preventDefault();var i=new KeyboardEvent("keydown",{key:"Enter",bubbles:!0,cancelable:!0});u.dispatchEvent(i)}if(["ArrowDown","ArrowUp"].includes(o)&&t){e.preventDefault();var a="ArrowDown"===o?0:r.length-1;a>=0&&r[a]&&r[a].focus()}n.onKeyDown&&n.onKeyDown(e)}},{key:"handleItemKeyDown",value:function(e,t,n){var o=this,r=e.target,u=e.key,i=this.props,a=i.customItemProps,c=i.onSelect;if("Tab"===u&&this.toggleMenu(!1),"Escape"===u&&(this.toggleMenu(!1),this.props.openOnFocus||this.makeFocusOnControl()),"Enter"===u&&null!==t&&(e.preventDefault(),"function"==typeof c.then?c(e,t,n).then((function(){return o.toggleMenu(!1)})):(c(e,t,n),this.toggleMenu(!1))),["ArrowDown","ArrowUp"].includes(u)){e.preventDefault();var s=Array.from(this.getItemsElements()),l=s.indexOf(r),f=s[l+1]?s[l+1]:s[0],p=s[l-1]?s[l-1]:s[s.length-1],d="ArrowDown"===u?f:p;d&&d.focus()}a.onKeyDown&&a.onKeyDown(e,t,n)}},{key:"handleItemClick",value:function(e,t,n){var o=this.props,r=o.onSelect,u=o.closeOnSelect,i=o.openOnFocus,a=o.customItemProps;r(e,t,n),u&&this.toggleMenu(!1),i||this.makeFocusOnControl(),a.onClick&&a.onClick(e,t,n)}},{key:"outsideClick",value:function(e){this.dropdownRef.current&&this.dropdownRef.current.contains(e.target)||this.toggleMenu(!1)}},{key:"toggleMenu",value:function(e){this.setState({open:e}),document[e?"addEventListener":"removeEventListener"]("click",this.handleOutsideClick,!1),e?(this.props.onOpen(),setTimeout(this.setMenuPositions.bind(this))):(this.props.onClose(),this.setState({menuStyles:P}))}},{key:"renderControl",value:function(){var e=this,t=this.props,n=t.customControl,o=t.customControlArrow,u=t.value,i=t.disabled,a=t.customControlProps,s=t.controlWrapperClassName,l=this.state.open,f=c()("cub-dropdown-control-wrapper",s),p=c()("cub-dropdown-control",a.className),d=O({},{placeholder:"Select"},{},a,{className:p});return r.a.createElement("div",{className:f},r.a.createElement(n,O({value:u,disabled:i},d,{autoComplete:"off",className:p,onClick:function(t){return e.handleControlClick(t)},onKeyDown:function(t){return e.handleControlKeyDown(t)},onFocus:function(t){return e.handleControlFocus(t)},onBlur:function(t){return e.handleControlBlur(t)}})),o&&r.a.createElement(o,{open:l}))}},{key:"renderOption",value:function(e,t){var n=this,o=this.props,u=o.getValue,i=o.getLabel,a=o.customItem,s=o.customItemProps,l=c()("cub-dropdown-item",s.className||"");return r.a.createElement(a,O({item:e},s,{key:u(e),selected:this.getSelectedValue(),className:l,"data-label":i(e),"data-value":u(e),getLabel:i,onClick:function(o){return n.handleItemClick(o,e,t)},onKeyDown:function(o){return n.handleItemKeyDown(o,e,t)}}))}},{key:"renderElement",value:function(e){var t=this;return!!e&&r.a.createElement(e,{handleClose:function(){t.toggleMenu(!1),t.props.openOnFocus||t.makeFocusOnControl()},handleItemKeyDown:function(e){return t.handleItemKeyDown(e,null,-1)}})}},{key:"renderMenu",value:function(){var e=this.props,t=e.options,n=e.header,o=e.footer,u=e.customNoResults,i=e.menuClassName,a=e.itemsWrapperClassName,s=this.state,l=s.open,f=s.menuStyles,p=c()("cub-dropdown-menu",{"-open":l,"-empty":!t.length},i),d=c()("cub-dropdown-items",a);return r.a.createElement("div",{className:p,ref:this.menuRef,style:f},t.length<=0&&u,r.a.createElement("div",{className:"cub-dropdown-menu-inner"},this.renderElement(n),t.length>0&&r.a.createElement("div",{className:d},t.map(this.renderOption.bind(this))),this.renderElement(o)))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,o=this.state.open,u=c()("cub-dropdown",{"-opened":o},n);return r.a.createElement("div",{className:u,ref:this.dropdownRef,style:t},this.renderControl(),o&&this.renderMenu())}}])&&C(n.prototype,u),a&&C(n,a),t}(o.Component);E(x,"defaultProps",{options:[],value:"",defaultOpen:!1,disabled:!1,className:"",style:{},customControl:function(e){var t=v({},e);return r.a.createElement("input",v({type:"text"},t))},controlWrapperClassName:"",customControlProps:{},customItem:function(e){var t=e.item,n=e.getLabel,o=b(e,["item","getLabel"]);return r.a.createElement(y,v({item:t},o),n(t))},menuClassName:"",itemsWrapperClassName:"",customItemProps:{},onSelect:function(){},onClose:function(){},onOpen:function(){},closeOnSelect:!0,openOnFocus:!1,closeOnControlClick:!0,customNoResults:r.a.createElement("div",null,"Nothing found"),getLabel:function(e){return e&&e.name},getValue:function(e){return e&&e._id}});var M=x;function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,u=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=function(e,t,n){var r=N(Object(o.useState)(e),2),u=r[0],i=r[1],a=N(Object(o.useState)(t),2),c=a[0],s=a[1],l=N(Object(o.useState)(n),2),f=l[0],p=l[1];return{options:u,value:c,selected:f,setOptions:function(e){return i(e)},setValue:function(e){return s(e)},setSelected:function(e){return p(e)}}};n.d(t,"Dropdown",(function(){return M})),n.d(t,"DropdownItem",(function(){return y})),n.d(t,"useDropdown",(function(){return D}))}])}));